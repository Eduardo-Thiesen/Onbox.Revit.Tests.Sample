name: 01 - Build Test Project

on:
  workflow_dispatch: 

jobs:
  build:

    runs-on: windows-latest

    steps:
#    - uses: actions/checkout@v2
#    - name: Setup MSBuild
#      uses: microsoft/setup-msbuild@v1
#    - name: Setup NuGet
#      uses: NuGet/setup-nuget@v1.0.5
#    - name: Nuget Restore
#      run: nuget restore "Onbox.Revit.Tests.Sample.sln"
#    - name: Build Project
#      run: msbuild "Onbox.Revit.Tests.Sample.sln" /p:Configuration=R2019 /p:Platform=x64
#    - name: Upload a Build Artifact
#      uses: actions/upload-artifact@v2.2.2
#      with:
#        path: tests\Onbox.Revit.Tests\test_project.zip
    - name: Login to Forge
      run: curl --location --request POST 'https://developer.api.autodesk.com/authentication/v1/authenticate' --header 'Content-Type: application/x-www-form-urlencoded' --data-urlencode 'client_id=${{ secrets.CLIENT_ID }}' --data-urlencode 'client_secret=${{ secrets.CLIENT_SECRET }}' --data-urlencode 'grant_type=client_credentials' --data-urlencode 'scope=code:all data:write data:read bucket:create bucket:delete'
